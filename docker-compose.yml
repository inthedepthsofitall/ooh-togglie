version: "3.9"
services:
postgres:
image: postgres:16
environment:
POSTGRES_PASSWORD: postgres
POSTGRES_USER: postgres
POSTGRES_DB: appdb
ports: ["5432:5432"]
healthcheck:
test: ["CMD-SHELL", "pg_isready -U postgres"]
interval: 5s
timeout: 3s
retries: 5


redis:
image: redis:7
ports: ["6379:6379"]


jaeger:
image: jaegertracing/all-in-one:1.57
ports:
- "16686:16686" # UI
- "4317:4317" # OTLP gRPC


prometheus:
image: prom/prometheus:latest
volumes:
- ./prometheus.yml:/etc/prometheus/prometheus.yml
ports: ["9090:9090"]